<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>[VIDEO] Arch Linux with full disk encryption in (about) 15 minutes</title>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://drewdevault.com/blog/index.xml">
  <link rel="icon" type="image/png" href="/avatar.png">
  
  <link rel="stylesheet" href="/main.min.d007a22f956a425cfa3f96c70ba325efd0f789fa65d2e609314f66cbe89ef0de.css">
</head>


<h1>
  [VIDEO] Arch Linux with full disk encryption in (about) 15 minutes
  <small>
    <span class="date">August 18, 2016</span>
    on
    <span class="site"><a href=".">Drew DeVault&#39;s blog</a></span>
  </small>
</h1>

<main>
  <article>
    <link rel="stylesheet" href="/css/video-js.css">
<script>
window.HELP_IMPROVE_VIDEOJS = false;
</script>
<script src="/js/video.js"></script>
<p>After my <a href="/2016/06/29/Privacy-as-a-hobby.html">blog post</a> emphasizing the
importance of taking control of your privacy, I&rsquo;ve decided to make a few more
posts going over detailed instructions on how to actually do so. Today we have a
video that goes over the process of installing Arch Linux with full disk
encryption.</p>
<p>This is my first go at publishing videos on my blog, so please provide some
feedback in the comments of this article. I&rsquo;d prefer to use my blog instead of
YouTube for publishing technical videos, since it&rsquo;s all open source, ad-free,
and DRM-free. Let me know if you&rsquo;d like to see more content like this on my
blog and which topics you&rsquo;d like covered - I intend to at least release another
video going over this process for Ubuntu as well.</p>
<video class="video-js vjs-16-9" data-setup="{}" controls>
  <source src="https://sr.ht/archlinux.webm" type="video/webm">
  <p>Your browser does not support HTML5 video.</p>
</video>
<p><a class="pull-right" href="https://sr.ht/archlinux.webm">Download video (WEBM)</a></p>
<div class="clearfix"></div>
<p>The video goes into detail on each of these steps, but here&rsquo;s the high level
overview of how to do this. Always check the latest version of the <a href="https://wiki.archlinux.org/index.php/Installation_guide">Install
Guide</a> and the
<a href="https://wiki.archlinux.org/index.php/Dm-crypt">dm-crypt</a> page on the Arch Wiki
for the latest procedure.</p>
<ol>
<li>Partition your disks with gdisk and be sure to set aside a partition for
/boot</li>
<li>Create a filesystem on /boot</li>
<li>(optional) Securely erase all of the existing data on your disks with <code>dd if=/dev/zero of=/dev/sdXY bs=4096</code> - <em>note: this is a correction from the
command mentioned in the video</em></li>
<li>Set up encryption for your encrypted partitions with <code>cryptsetup luksFormat /dev/sdXX</code></li>
<li>Open the encrypted volumes with <code>cryptsetup open /dev/sdXX [name]</code></li>
<li>Create filesystems on /dev/mapper/[names]</li>
<li>Mount all of the filesystems on /mnt</li>
<li>Perform the base install with <code>pacstrap /mnt base [extra packages...]</code></li>
<li><code>genfstab -p /mnt &gt;&gt; /mnt/etc/fstab</code></li>
<li><code>arch-chroot /mnt /usr/bin/bash</code></li>
<li><code>ln -s /usr/share/zoneinfo/[region]/[zone] /etc/localtime</code></li>
<li><code>hwclock --systohc --utc</code></li>
<li>Edit /etc/locale.gen to your liking and run <code>locale-gen</code></li>
<li><code>locale &gt; /etc/locale.conf</code> - note this only works for en_US users, adjust if
necessary</li>
<li>Edit /etc/hostname to your liking</li>
<li>Reconfigure the network</li>
<li>Edit /etc/mkinitcpio.conf and ensure that the <code>keyboard</code> and <code>encrypt</code> hooks
run before the <code>filesystems</code> hook</li>
<li><code>mkinitcpio -p linux</code></li>
<li>Set the root password with <code>passwd</code></li>
<li>Configure /etc/crypttab with any non-root encrypted disks you need. You can
get partition UUIDs with <code>ls -l /dev/disk/by-partuuid</code></li>
<li>Configure your kernel command line to include
<code>cryptdevice=PARTUUID=[...]:[name] root=/dev/mapper/[name] rw</code></li>
<li>Install your bootloader and reboot!</li>
</ol>

  </article>
</main>

<section class="comment">
  

  <p>
  Have a comment on one of my posts? Start a discussion in my public inbox by
  sending an email to
  <a href="mailto:~sircmpwn/public-inbox@lists.sr.ht">~sircmpwn/public-inbox@lists.sr.ht</a>
  [<a href="https://man.sr.ht/lists.sr.ht/etiquette.md">mailing list etiquette</a>]
</section>

<section class="webring">
  <h2>
    Articles from blogs I read
    <small class="attribution">
      Generated by
      <a href="https://git.sr.ht/~sircmpwn/openring">openring</a>
    </small>
  </h2>
  <section class="articles">
    
    <div class="article">
      <h4 class="title">
        <a href="https://emersion.fr/blog/2020/status-update-21/" target="_blank" rel="noopener">Status update, August 2020</a>
      </h4>
      <p class="summary">Hi! Regardless of the intense heat I’ve been exposed to this last month,
I’ve still been able to get some stuff done (although having to move out to
another room which isn’t right under the roof).
I’ve worked a lot on IRC-related projects. I’ve added a znc-i…</p>
      <small class="source">
        via <a href="https://emersion.fr/blog/">emersion</a>
      </small>
      <small class="date">2020-08-19 00:00:00 &#43;0200 &#43;0200</small>
    </div>
    
    <div class="article">
      <h4 class="title">
        <a href="https://sourcehut.org/blog/2020-08-16-whats-cooking-august-2020/" target="_blank" rel="noopener">What&#39;s cooking on Sourcehut? August 2020</a>
      </h4>
      <p class="summary">Another month passes and we find ourselves writing (or reading) this status
update on a quiet, rainy Sunday morning. Today our userbase numbers 16,683
members strong, up 580 from last month. Please extend a kind welcome to our new
colleagues! Thanks for read…</p>
      <small class="source">
        via <a href="https://sourcehut.org/blog/">Blogs on Sourcehut</a>
      </small>
      <small class="date">2020-08-16 00:00:00 &#43;0000 &#43;0000</small>
    </div>
    
    <div class="article">
      <h4 class="title">
        <a href="https://blog.golang.org/go1.15" target="_blank" rel="noopener">Go 1.15 is released</a>
      </h4>
      <p class="summary">
  
  
    
      
        Today the Go team is very happy to announce the release of Go 1.15. You can get it from the download page.
Some of the highlights include:

Substantial improvements to the Go linker
Improved allocation for small objects at high core coun…</p>
      <small class="source">
        via <a href="https://blog.golang.org/feed.atom">The Go Programming Language Blog</a>
      </small>
      <small class="date">2020-08-11 11:00:00 &#43;0000 &#43;0000</small>
    </div>
    
    <div class="article">
      <h4 class="title">
        <a href="https://100r.co/site/north_pacific_logbook.html" target="_blank" rel="noopener">North Pacific Logbook</a>
      </h4>
      <p class="summary">
The passage from Japan (Shimoda) to Canada (Victoria) took 51 days, and it was the hardest thing we&#39;ve ever done. We decided to keep a logbook, to better remember it and so it can help others who wish to make this trip.Continue Reading
  </p>
      <small class="source">
        via <a href="https://100r.co/">Hundred Rabbits</a>
      </small>
      <small class="date">2020-07-31 00:00:00 &#43;0000 GMT</small>
    </div>
    
  </section>
</section>


<footer>
  The content for this site is
  <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>.
  The <a href="https://git.sr.ht/~sircmpwn/drewdevault.com">code for this site</a>
  is <a href="https://opensource.org/licenses/MIT">MIT</a>.
</footer>

